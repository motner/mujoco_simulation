<mujoco model="ur5">
  <compiler angle="radian" meshdir="ur5/"/>
  <asset>
    <!--visual ur5-->
    <mesh name="base_v"     file="visual_obj/base.obj"/>
    <mesh name="shoulder_v" file="visual_obj/shoulder.obj"/>
    <mesh name="upperarm_v" file="visual_obj/upperarm.obj"/>
    <mesh name="forearm_v"  file="visual_obj/forearm.obj"/>
    <mesh name="wrist1_v"   file="visual_obj/wrist1.obj"/>
    <mesh name="wrist2_v"   file="visual_obj/wrist2.obj"/>
    <mesh name="wrist3_v"   file="visual_obj/wrist3.obj"/>
    
    <!--collision ur5-->
    <mesh name="base"     file="collision/base.stl"/>
    <mesh name="shoulder" file="collision/shoulder.stl"/>
    <mesh name="upperarm" file="collision/upperarm.stl"/>
    <mesh name="forearm"  file="collision/forearm.stl"/>
    <mesh name="wrist1"   file="collision/wrist1.stl"/>
    <mesh name="wrist2"   file="collision/wrist2.stl"/>
    <mesh name="wrist3"   file="collision/wrist3.stl"/>
    
    <!--suction-->
    <mesh name = "suction_base" file="suction/base.obj" scale="0.001 0.001 0.001"/>
    <mesh name = "suction_mid"  file="suction/mid1.obj" scale="0.001 0.001 0.001"/>
    <mesh name = "suction_head" file="suction/head.obj" scale="0.001 0.001 0.001"/>
    <mesh name = "suction_tip"  file="suction/tip.obj"  scale="0.001 0.001 0.001"/>
    
    <material name="LightGrey" rgba="0.8 0.8 0.8 1.0"/>
    <material name="DarkGrey"  rgba="0.2 0.2 0.2 1.0"/>
    <material name="Blue"      rgba="0.18039216 0.50588235 0.77254902 1"/>
  </asset>

  <!--Phân nhóm thuộc tính các class-->
  <default>
        <joint damping="0.0" frictionloss="0.0"/>
        <default class="visual">
        	<geom type="mesh" contype="0" conaffinity="0"/>
        </default>
        <default class="collision">
        	<geom type="mesh" group="3"/>
        </default>
        <default class="suction">
        	<geom condim="6" friction="1.0 0.005 0.0001" solref="0.01 1" solimp="0.95 0.99 0.001"/>	
        </default>
  </default>


  <worldbody>
  
    <!--Ánh sáng môi trường-->
    <light directional="true" pos="-0.5 0.5 3" dir="0 0 -1"/>
    
    <!--Tay máy ur5-->
    <body name="base_link" pos="0 0 0" quat="1 0 0 0"> 
    	<inertial pos="0 0 0" mass="4.0" diaginertia="0.00443333156 0.00443333156 0.0072"/>
    	<geom class="visual" type="mesh" mesh="base_v" material="LightGrey" contype="0" conaffinity="0"/>
      
    	<body name="shoulder_link" quat="1 0 0 0" pos="0 0 0.163">
      		<inertial quat="1 0 0 0" pos="0 0 0" mass="3.7" diaginertia="0.010267495893 0.010267495893 0.00666"/>
        	<joint name="shoulder_pan_joint" type="hinge" axis="0 0 1" range="-6.28318530718 6.28318530718" damping="0.0" frictionloss="0.0"/>
        	<geom class="visual" mesh="shoulder_v" material="DarkGrey"/>
        
        	<body name="upper_arm_link" pos="0 0.138 0" quat="0.70710678 0 0.70710678 0">
          		<inertial quat="1 0 0 0" pos="0 0 0.28" mass="8.393" diaginertia="0.22689067591 0.22689067591 0.0151074"/>
          		<joint name="shoulder_lift_joint" type="hinge" axis="0 1 0" range="-6.28318530718 6.28318530718" damping="0.0" frictionloss="0.0"/>
          		<geom class="visual" mesh="upperarm_v" material="LightGrey"/>
          
          		<body name="forearm_link" pos="0 -0.131 0.425" quat="1 0 0 0">
            			<inertial quat="1 0 0 0" pos="0 0 0.25" mass="2.275" diaginertia="0.049443313556 0.049443313556 0.004095"/>
            			<joint name="elbow_joint" type="hinge" axis="0 1 0" range="-3.14159265359 3.14159265359" damping="0" frictionloss="0"/>
            			<geom class="visual" mesh="forearm_v" material="DarkGrey"/>
            
            			<body name="wrist_1_link" pos="0 0 0.392" quat="0.707107 0 0.707107 0">
              				<inertial quat="1 0 0 0" pos="0 0 0" mass="1.219" diaginertia="0.111172755531 0.111172755531 0.21942"/>
              				<joint name="wrist_1_joint" type="hinge" axis="0 1 0" range="-6.28318530718 6.28318530718" damping="0" frictionloss="0"/>
              				<geom class="visual" mesh="wrist1_v" material="LightGrey"/>
              
              				<body name="wrist_2_link" pos="0 0.127 0" quat="1 0 0 0">
                				<inertial quat="1 0 0 0" pos="0 0 0" mass="1.219" diaginertia="0.111172755531 0.111172755531 0.21942"/>
                				<joint name="wrist_2_joint" type="hinge" axis="0 0 1" range="-6.28318530718 6.28318530718" damping="0" frictionloss="0"/>
                				<geom class="visual" mesh="wrist2_v" material="DarkGrey"/>
                				<geom class="collision" mesh="wrist2"/>
                
                				<body name="wrist_3_link" pos="0 0 0.1" quat="1 0 0 0">
                  					<inertial pos="0 0 0" mass="0.1879" diaginertia="0.0171364731454 0.0171364731454 0.033822"/>
                  					<joint name="wrist_3_joint" type="hinge" axis="0 1 0" range="-6.28318530718 6.28318530718" damping="0" frictionloss="0"/>
                  					<geom class="visual" mesh="wrist3_v" material="LightGrey"/>
                  					<geom class="collision" mesh="wrist3"/>
                  					
                  					<!--Mặt bích-->
                  					<body name="tool0" pos="0 0.0823 0" quat="0.70710678 -0.70710678 0 0">
                    						<site name="site_tool0" size="0.01" rgba="1 0.5 0.1 1"/>
                    						
                    						<!--Cơ cấu suction-->
                    						<body name="baseLink" pos="0 0 0" quat="1 0 0 0">
                      							<inertial pos="0 0 0" quat="1 0 0 0" mass="0.1" diaginertia="1 1 1"/>
		      							<geom class= "suction" type="mesh" mesh="suction_base" material="DarkGrey"/> 
		      							
		      							<body name="midLink" quat="1 0 0 0" pos="0 0 0.025">
		        							<inertial pos="0 0 0" quat="1 0 0 0" mass="0.1" diaginertia="1 1 1"/>
		        							<geom class= "suction" type="mesh" mesh="suction_mid" material="DarkGrey"/>
		        							
		        							<body name="headLink" pos="0 0 0.03" quat="1 0 0 0" >
		          								<inertial quat="1 0 0 0" pos="0 0 0" mass="0.1" diaginertia="1 1 1"/>
		          								<geom class= "suction" type="mesh" mesh="suction_head" material="DarkGrey"/>
		          								
		          								<body name="tipLink" quat="1 0 0 0" pos="0 0 0.029">
		            									<inertial quat="1 0 0 0" pos="0 0 0" mass="0.1" diaginertia="1 1 1"/>
		            									<geom type="mesh" mesh="suction_tip" contype="0" conaffinity="0" material="Blue"/>
		            									<geom class= "suction" type="cylinder" size="0.001 0.014" pos="0 0 0" margin="0.01" gap="0.005"/>
		            									
		            									<!--Tọa độ của đầu hút-->
		            									<site name="suction_point" pos="0 0 0.015" size="0.001"/> 
		          								</body>
		        							</body>
		      							</body>
		    						</body>                    
                  					</body>
                				</body>
              				</body>
            			</body>
          		</body>
        	</body>
         </body>
    </body>
     
     <!--Sàn mô phỏng-->
     <geom name="floor" type="plane" pos="0 0 0" size="10 10 0.1" rgba="0 0.5 0.8 1"/>
     
     <!--Khối vuông để mô phỏng hút vật-->
     <body name="cube_red" pos="0.52 0.1375 0.025">
        <freejoint name="cube_joint"/>
        <inertial pos="0 0 0" mass="0.1" diaginertia="0.0001 0.0001 0.0001"/>
        <geom type="box" size="0.025 0.025 0.025" rgba="1 0 0 1" 
              condim="4" friction="2.0 0.2 0.001" solref="0.02 0.9" solimp="0.95 0.99 0.001"/>
    </body>
  </worldbody>


  <!--Động cơ của các khớp-->
  <actuator>
    <motor name="shoulder_pan"  joint="shoulder_pan_joint"  ctrlrange="-150 150" gear="1"/>
    <motor name="shoulder_lift" joint="shoulder_lift_joint" ctrlrange="-150 150" gear="1"/>
    <motor name="elbow"         joint="elbow_joint"         ctrlrange="-150 150" gear="1"/>
    <motor name="wrist_1"       joint="wrist_1_joint"       ctrlrange="-28 28"   gear="1"/>
    <motor name="wrist_2"       joint="wrist_2_joint"       ctrlrange="-28 28"   gear="1"/>
    <motor name="wrist_3"       joint="wrist_3_joint"       ctrlrange="-28 28"   gear="1"/>
    
    <!--Lực hút của suction-->
    <adhesion name="suction_actuator" body="tipLink" ctrlrange="0 1" gain="1000"/>
  </actuator>
</mujoco>
